# Issue #327: ホームコンポーネント実装計画レビュー（2025-11-16）

## 総評
- コンポーネント分割と既存 `IconButton` 再利用の方針は明確で、実装手順も具体的。
- ただしデザイン再現とUXで複数のリスクが残るため、以下を計画に反映してから実装に進むことを推奨します。

## 指摘事項
1. **コンテナ装飾・余白の消失**  
   - 現行のプレースホルダは高さ・パディング・角丸を持ちヒーローブロックのスペースを確保しています（`src/features/main/components/home-page-container.tsx:23`）。  
   - 計画の置換後コードではこれらのスタイルが落ちており、Figmaコンテナ（node 947-2911）相当の背景/余白/高さが再現されない【design-docs-for-ai/issue327-home-components-implementation-plan.md:170】。  
   - 対応案: 既存のラッパークラスを保持したまま内部を差し替える、もしくは `max-w`・padding・rounded・必要なら背景色を持つラッパーを新たに明記する。

2. **モバイル時の横スクロールリスク**  
   - 3ボタンを横一列・幅固定 `w-[240px]` で並べる指示のため、総幅約752pxとなりスマホ幅で確実にあふれます【design-docs-for-ai/issue327-home-components-implementation-plan.md:108】。  
   - 対応案: `flex-wrap` + `justify-center` を追加する、または `md:flex-row` と `w-full sm:w-[240px]` などブレークポイントで縦積み/折り返しにするガイドを計画へ追記。

3. **縦方向スペーシングの縮み**  
   - `h-[210px]` を外すとテキスト+ボタンの実高さが約120pxに縮み、下部リストとの間隔が大きく減ってヒーローセクションのリズムが崩れる恐れがあります【design-docs-for-ai/issue327-home-components-implementation-plan.md:180】。  
   - 対応案: `min-h` やパディング調整でデザインの縦スペースを再現する方針を明記。

4. **i18n 適用範囲の明確化**  
   - サービス説明文が固定の日本語文字列で、ページは `language` を受け取る設計です（`src/features/main/components/home-page-container.tsx:9`）。  
   - 英語など他言語展開を想定する場合は翻訳辞書経由で文言を取得する旨を計画に追加するか、「日本語のみ対応」とスコープを明示してください。

## 推奨対応
- 上記4点を計画書に反映した改訂版を共有のうえ、実装に着手してください。既存スタイル維持とレスポンシブ方針を明記するだけでリスクは解消できます。

---

## 再レビュー（2025-11-16 改訂版）
### 評価概要
- 前回指摘したレスポンシブ不足・コンテナ余白喪失・i18nスコープ不明がすべて解消されました。実装指針としては着手可能な状態です。

### 確認済みの改善点
1. **レスポンシブ対応を明記**  
   - ボタンコンテナに `flex-col md:flex-row` と `w-full md:w-[240px]` を採用し、モバイル縦積み・タブレット以上横並びが明確になりました【design-docs-for-ai/issue327-home-components-implementation-plan.md:90-123】。
2. **コンテナ余白の復元**  
   - ヒーローブロックに `px-3 pt-10 pb-8 rounded-xl` を設定し、親の `max-w-[1020px]` を維持したまま適切なスペースを確保しています【design-docs-for-ai/issue327-home-components-implementation-plan.md:150-188】。
3. **多言語対応の導入**  
   - `getServiceDescriptionText` / `getActionButtonText` を新設し、`Language` 型に基づく JA/EN 切替を定義しています【design-docs-for-ai/issue327-home-components-implementation-plan.md:40-87】。

### 追加で留意してほしい点（軽微）
1. **実高さのデザイン整合性**  
   - 固定高さを撤廃し padding でスペースを確保する方針は妥当ですが、Figma のヒーロー高さと一致するか実装後に必ず目視確認してください（必要なら `min-h` 追加を計画に追記）。
2. **背景色の有無**  
   - 元プレースホルダには背景指定がなかったものの、Figmaでブロックに薄いトーンがある場合は `bg-[#fff4e9]` などを要検討。現計画では未指定なので、デザインと不一致があれば追記してください。
3. **文言トーン確認**  
   - ENコピーは直訳でトーンがフラットです。ブランドトーンに合わせる必要があれば調整方針を計画にメモしておくと実装時の悩みを減らせます。

### 実装前チェックリスト（計画反映済みか確認）
- [ ] ヒーローブロックの視覚デザイン（高さ・背景色）がFigmaと一致するかを検証する旨を明記
- [ ] QA項目に「モバイルで横スクロールしないこと」「JA/EN表記切替」を含める

上記2点を計画書へ追記すれば、リスクはほぼ解消されます。*** End Patch*** 🛠️🤝

---

## 再々レビュー（2025-11-16 再修正版）
### 評価概要
- 追加反映によって背景色検討、実高さ検証、QA拡充が明記され、前回の留意点は計画上すべてカバーされました。実装着手して問題ない状態です。

### 確認した改善点
1. **Figma整合性チェックの明文化**  
   - QA項目にヒーロー高さ・背景色の確認が追加され、`min-h`や`bg`付与判断を実装時に行えるようになりました【design-docs-for-ai/issue327-home-components-implementation-plan.md:280-307】。
2. **レスポンシブ・横スクロール対策の確認手順**  
   - モバイルでの縦積みと横スクロール無をQAチェックに含めています【design-docs-for-ai/issue327-home-components-implementation-plan.md:252-271】。
3. **多言語確認手順の追加**  
   - JA/EN各URLでの表示確認がチェックリストに含まれ、i18n抜け漏れを防げます【design-docs-for-ai/issue327-home-components-implementation-plan.md:272-279】。

### 進行にあたっての軽微なメモ
- 英語文言は直訳で許容と記載されていますが、ブランドトーン調整が必要なら実装前にPM/デザイナー確認すると差し戻し防止になります（計画にも注記済み）。
- 背景色の有無はFigmaで要確認。不要なら現行のまま、必要なら `bg-[#fff4e9]` 追加で対応可能。

上記確認が実装時に行われれば、新たなリスクはありません。実装へ進めてください。*** End Patch***
